(this.webpackJsonpprjct=this.webpackJsonpprjct||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(26),o=n.n(r),i=n(13),s=n(14),c=n(16),l=n(15),d=n(10),j=n(18),u=n(24),h=n(9),b=n(2),p={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"/3.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"/2.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"/1.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},x={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function O(e){return new Promise((function(t,n){var a=e.author,r=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout((function(){x=Object(b.a)(Object(b.a)({},x),{},Object(h.a)({},r.id,r)),p=Object(b.a)(Object(b.a)({},p),{},Object(h.a)({},a,Object(b.a)(Object(b.a)({},p[a]),{},{questions:p[a].questions.concat([r.id])}))),t(r)}),1e3)}))}function m(e){return function(e){var t=e.authedUser,n=e.qid,a=e.answer;return new Promise((function(e,r){setTimeout((function(){p=Object(b.a)(Object(b.a)({},p),{},Object(h.a)({},t,Object(b.a)(Object(b.a)({},p[t]),{},{answers:Object(b.a)(Object(b.a)({},p[t].answers),{},Object(h.a)({},n,a))}))),x=Object(b.a)(Object(b.a)({},x),{},Object(h.a)({},n,Object(b.a)(Object(b.a)({},x[n]),{},Object(h.a)({},a,Object(b.a)(Object(b.a)({},x[n][a]),{},{votes:x[n][a].votes.concat([t])}))))),e()}),500)}))}(e)}var g="GET_USERS";var f=n(78),y="GET_QUESTIONS",v="ADD_QUESTION",w="ADD_ANSWER";function T(e){var t=e.authedUser,n=e.qid,a=e.answer;return{type:w,authedUser:t,qid:n,answer:a}}function k(e,t){return function(n,a){var r,o=a().authedUser;return n(Object(f.showLoading)()),(r={author:o,optionOneText:e,optionTwoText:t},O(r)).then((function(e){return n(function(e){return{type:v,question:e}}(e))})).then((function(){return n(Object(f.hideLoading)())}))}}function q(e){return function(t){return t(T(e)),m(e).catch((function(n){console.warn("Error in handlingAddingAnswer: ",n),t(T(e)),alert("There was an error submitting your answer, please try again.")}))}}var S=n(37);function C(){return function(e){return e(Object(S.showLoading)()),Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(b.a)({},p))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(b.a)({},x))}),1e3)}))]).then((function(e){var t=Object(u.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var n=t.users,a=t.questions;e(function(e){return{type:g,users:e}}(n)),e(function(e){return{type:y,questions:e}}(a)),e(Object(S.hideLoading)())}))}}var U="SET_AUTHED_USER",L="REMOVE_AUTHED_USER";function z(e){return{type:U,id:e}}function R(){return{type:L}}var A=n(113),N=n(124),B=n(114),D=n(86),E=n(120),I=n(112),W=n(67),P=n(123),H=n(85),V=n(19),_=n(1);var G=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).redirect=function(){e.props.authedUser||alert("You have to sign in first!")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.history.location.pathname;return Object(_.jsxs)(P.a,{id:"navig",bg:"primary",variant:"dark",style:{marginTop:"5px",height:"65px"},children:[Object(_.jsxs)(P.a.Brand,{style:{fontSize:"30px"},children:[Object(_.jsx)(I.a,{src:"/wydpic.png",style:{width:"100px",height:"60px",marginLeft:"40px",marginRight:"10px"}}),"Welcome!"]}),Object(_.jsxs)(H.a,{className:"text-center m-auto",style:{fontSize:"25px"},activeKey:"/home"===e||"/"===e?"/home":"/add"===e?"/add":"/leaderboard"===e?"/leaderboard":"/home",children:[Object(_.jsx)(H.a.Link,{as:V.b,to:"/home",onClick:this.redirect,style:{marginRight:"50px"},children:"Home"}),Object(_.jsx)(H.a.Link,{as:V.b,to:"/add",onClick:this.redirect,style:{marginRight:"50px"},children:"Add Poll"}),Object(_.jsx)(H.a.Link,{as:V.b,to:"/leaderboard",onClick:this.redirect,style:{marginRight:"50px"},children:"Leaderboard"})]})]})}}]),n}(a.Component),M=Object(d.connect)((function(e){return{authedUser:e.authedUser}}))(Object(j.g)(G));var Q=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedUser:null},e.selectUser=function(t){e.setState({selectedUser:t})},e.logIn=function(t){t.preventDefault();var n=e.state.selectedUser,a=e.props.dispatch,r=e.props.history.location.pathname;if(n)a(z(n)),"/"===r&&e.props.history.push("/home");else if("/"!==r)return Object(_.jsx)(j.a,{to:r})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.users,n=this.state.selectedUser,a=t.map((function(e){return e.id}));return Object(_.jsxs)("div",{style:{marginTop:"5px"},children:[Object(_.jsx)(M,{}),Object(_.jsx)(A.a,{fluid:!0,className:"text-center m-auto",children:Object(_.jsxs)(N.a,{className:"m-auto",style:{height:"90vh"},children:[Object(_.jsx)(N.a.Title,{style:{marginTop:"20px"}}),Object(_.jsx)(N.a.Img,{variant:"top",className:"m-auto",style:{width:"22rem"},src:"/wydpic.png"}),Object(_.jsxs)(N.a.Body,{children:[Object(_.jsx)("footer",{className:"blockquote-footer",children:"You have to sign in to play the game."}),Object(_.jsxs)(B.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"30px"},children:[Object(_.jsx)(D.a,{md:"auto",children:Object(_.jsxs)(E.a,{children:[Object(_.jsx)(E.a.Toggle,{variant:"light",style:{width:"200px",backgroundColor:"#e3e1e1"},children:n?n===a[0]?Object(_.jsx)("span",{children:"Sarah Edo"}):n===a[1]?Object(_.jsx)("span",{children:"Tyler McGinnis"}):n===a[2]?Object(_.jsx)("span",{children:"John Doe"}):null:Object(_.jsx)("span",{children:"Select a user"})}),Object(_.jsx)(E.a.Menu,{style:{overflowY:"scroll",maxHeight:"140px"},children:t.map((function(t){return Object(_.jsx)(E.a.Item,{onClick:function(n){e.selectUser(t.id)},children:Object(_.jsxs)("div",{children:[Object(_.jsx)(I.a,{src:t.avatarURL,style:{width:"45px",height:"45px",marginRight:"5px"},roundedCircle:!0}),t.name,Object(_.jsx)(E.a.Divider,{})]})},t.id)}))})]})}),Object(_.jsx)(D.a,{md:"auto",children:Object(_.jsx)(W.a,{type:"submit",disabled:null===n,onClick:this.logIn,children:"Login"})})]})]})]})})]})}}]),n}(a.Component),J=Object(d.connect)((function(e){var t=e.users;return{users:Object.values(t)}}))(Object(j.g)(Q));function K(e,t){var n=e.id,a=e.timestamp,r=t.name,o=t.avatarURL,i=e.optionOne.text,s=e.optionTwo.text,c=e.optionOne.votes.length,l=e.optionTwo.votes.length;return{id:n,name:r,timestamp:a,avatar:o,author:t,optionOne:i,optionTwo:s,votesOne:c,votesTwo:l,userVoteOne:e.optionOne.votes,userVoteTwo:e.optionTwo.votes,totalVotes:c+l}}var Y=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.question,t=e.id,n=e.name,a=e.avatar,r=e.optionOne,o=e.optionTwo;return Object(_.jsx)("div",{style:{marginTop:"20px",marginBottom:"20px"},children:Object(_.jsx)(N.a,{style:{width:"40rem"},border:"primary",className:"m-auto",children:Object(_.jsx)(N.a.Body,{children:Object(_.jsxs)(B.a,{className:"align-items-center justify-content-md-center",children:[Object(_.jsxs)(D.a,{md:"auto",children:[Object(_.jsx)("img",{src:a,alt:"Avatar of ".concat(n),width:"90",height:"90",style:{marginTop:"50px",marginBottom:"20px"}}),Object(_.jsxs)(N.a.Subtitle,{className:"mb-2 text-muted",children:[n," is asking:"]})]}),Object(_.jsxs)(D.a,{md:{span:6,offset:2},children:[Object(_.jsx)(N.a.Title,{style:{marginTop:"5px"},className:"mb-2",children:"Would your rather"}),Object(_.jsx)(W.a,{variant:"outline-dark",disabled:!0,style:{fontWeight:"bold",marginTop:"20px",marginBottom:"10px"},children:r}),Object(_.jsx)(N.a.Title,{children:"Or"}),Object(_.jsx)(W.a,{variant:"outline-dark",disabled:!0,style:{fontWeight:"bold",display:"block"},children:o})]}),Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(_.jsx)(W.a,{as:V.b,to:"/questions/".concat(t),variant:"danger",style:{marginTop:"35px"},children:"Show Poll"})})]})})})})}}]),n}(a.Component),F=Object(d.connect)((function(e,t){var n=e.authedUser,a=e.users,r=e.questions[t.id];return{authedUser:n,question:K(r,a[r.author])}}))(Y);var $=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.question,t=e.id,n=e.name,a=e.avatar,r=e.optionOne,o=e.optionTwo;return Object(_.jsx)("div",{style:{marginTop:"20px",marginBottom:"20px"},children:Object(_.jsx)(N.a,{style:{width:"40rem"},border:"primary",className:"m-auto",children:Object(_.jsx)(N.a.Body,{children:Object(_.jsxs)(B.a,{className:"align-items-center justify-content-md-center",children:[Object(_.jsxs)(D.a,{md:"auto",children:[Object(_.jsx)("img",{src:a,alt:"Avatar of ".concat(n),width:"90",height:"90",style:{marginTop:"50px",marginBottom:"20px"}}),Object(_.jsxs)(N.a.Subtitle,{className:"mb-2 text-muted",children:[n," is asking:"]})]}),Object(_.jsxs)(D.a,{md:{span:6,offset:2},children:[Object(_.jsx)(N.a.Title,{style:{marginTop:"5px"},className:"mb-2",children:"Would your rather"}),Object(_.jsx)(W.a,{variant:"outline-dark",disabled:!0,style:{fontWeight:"bold",marginTop:"20px",marginBottom:"10px"},children:r}),Object(_.jsx)(N.a.Title,{children:"Or"}),Object(_.jsx)(W.a,{variant:"outline-dark",disabled:!0,style:{fontWeight:"bold",display:"block"},children:o})]}),Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(_.jsx)(W.a,{as:V.b,to:"/questions/".concat(t),style:{marginTop:"35px"},variant:"danger",children:"Take Poll"})})]})})})})}}]),n}(a.Component),X=Object(d.connect)((function(e,t){var n=e.authedUser,a=e.users,r=e.questions,o=t.id,i=r[o];return{id:o,authedUser:n,question:K(i,a[i.author])}}))($),Z=n(115),ee=n(116);var te=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.unansQs,n=e.ansQs;return Object(_.jsxs)(Z.a,{fill:!0,defaultActiveKey:"unanswered",style:{marginTop:"5px",fontSize:"20px"},children:[Object(_.jsx)(ee.a,{eventKey:"unanswered",title:"Unanswered Polls",children:t.map((function(e){return Object(_.jsx)("div",{children:Object(_.jsx)(X,{id:e})},e)}))}),Object(_.jsx)(ee.a,{eventKey:"answered",title:"Answered Polls",children:n.map((function(e){return Object(_.jsx)("div",{children:Object(_.jsx)(F,{id:e})},e)}))})]})}}]),n}(a.Component),ne=Object(d.connect)((function(e){var t=e.authedUser,n=e.questions;return{unansQs:Object.keys(n).filter((function(e){return!n[e].optionOne.votes.includes(t)&&!n[e].optionTwo.votes.includes(t)})).sort((function(e,t){return n[t].timestamp-n[e].timestamp})),ansQs:Object.keys(n).filter((function(e){return n[e].optionOne.votes.includes(t)||n[e].optionTwo.votes.includes(t)})).sort((function(e,t){return n[t].timestamp-n[e].timestamp}))}}))(te);var ae=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).logOut=function(){(0,e.props.dispatch)(R()),e.props.history.push("/")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.avatar,a=this.props.history.location.pathname;return Object(_.jsxs)(P.a,{id:"navig",bg:"primary",variant:"dark",style:{marginTop:"5px",height:"65px"},children:[Object(_.jsxs)(P.a.Brand,{style:{fontSize:"30px"},children:[Object(_.jsx)(I.a,{src:n,style:{width:"60px",height:"60px",marginLeft:"40px",marginRight:"10px"},roundedCircle:!0}),"Hi, ".concat(t,"!")]}),Object(_.jsxs)(H.a,{className:"text-center m-auto",style:{fontSize:"25px"},activeKey:"/home"===a||"/"===a?"/home":"/add"===a?"/add":"/leaderboard"===a?"/leaderboard":"/home",children:[Object(_.jsx)(H.a.Link,{as:V.b,to:"/home",style:{marginRight:"50px"},children:"Home"}),Object(_.jsx)(H.a.Link,{as:V.b,to:"/add",style:{marginRight:"50px"},children:"Add Poll"}),Object(_.jsx)(H.a.Link,{as:V.b,to:"/leaderboard",style:{marginRight:"50px"},children:"Leaderboard"})]}),Object(_.jsx)(W.a,{onClick:this.logOut,style:{fontSize:"18px",marginRight:"40px"},children:"Logout"})]})}}]),n}(a.Component),re=Object(d.connect)((function(e){var t=e.authedUser,n=e.users;return{name:n[t].name,avatar:n[t].avatarURL}}))(Object(j.g)(ae)),oe=n(121),ie=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={optionOne:"",optionTwo:""},e.changeOptionOne=function(t){var n=t.target.value;e.setState((function(){return{optionOne:n}}))},e.changeOptionTwo=function(t){var n=t.target.value;e.setState((function(){return{optionTwo:n}}))},e.submitPoll=function(t){t.preventDefault();var n=e.state,a=n.optionOne,r=n.optionTwo;(0,e.props.dispatch)(k(a,r)),e.props.history.push("/home")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.optionOne,n=e.optionTwo;return Object(_.jsx)("div",{style:{marginTop:"30px"},children:Object(_.jsxs)(N.a,{className:"m-auto",style:{width:"30rem"},children:[Object(_.jsx)(N.a.Header,{className:"text-center",style:{fontSize:"18px",fontWeight:"bold"},children:"Add a poll question"}),Object(_.jsxs)(N.a.Body,{children:[Object(_.jsx)(N.a.Text,{style:{marginTop:"30px"},children:"Would you rather"}),Object(_.jsxs)(oe.a,{children:[Object(_.jsx)(oe.a.Group,{className:"mb-3",controlId:"optionOne",children:Object(_.jsx)(oe.a.Control,{placeholder:"Option One",value:t,onChange:this.changeOptionOne})}),Object(_.jsx)(N.a.Text,{children:"Or"}),Object(_.jsx)(oe.a.Group,{className:"mb-3",controlId:"optionTwo",children:Object(_.jsx)(oe.a.Control,{placeholder:"Option Two",value:n,onChange:this.changeOptionTwo})}),Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(_.jsx)(W.a,{variant:"danger",onClick:this.submitPoll,disabled:""===t||""===n,children:"Submit"})})]})]})]})})}}]),n}(a.Component),se=Object(d.connect)()(ie),ce=n(125),le=n(117);var de=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showDetails:!1},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.authedUser,a=t.usersList,r=this.state.showDetails;return Object(_.jsx)("div",{style:{marginTop:"30px"},children:Object(_.jsxs)(N.a,{style:{width:"30rem"},className:"m-auto",children:[Object(_.jsxs)(N.a.Header,{className:"text-center",style:{fontSize:"23px",fontWeight:"bold"},children:[Object(_.jsx)(B.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"Leaderboard"}),Object(_.jsx)(B.a,{children:Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px"},children:Object(_.jsxs)(W.a,{variant:"secondary",type:"button",onClick:function(){return e.setState({showDetails:!r})},children:[r?"Hide":"Show"," Detailed Scores"]})})})]}),Object(_.jsx)(ce.a,{variant:"flush",children:a.map((function(e,t){return Object(_.jsxs)(ce.a.Item,{style:{marginTop:"10px",backgroundColor:n===e.id?"#dae2e8":null},children:[0===t?Object(_.jsx)(B.a,{children:Object(_.jsx)(D.a,{children:Object(_.jsx)(le.a,{pill:!0,id:"badge",bg:"warning",style:{fontSize:"17px",fontWeight:"bold",marginRight:"10px",width:"53px"},children:"1st"})})}):1===t?Object(_.jsx)(B.a,{children:Object(_.jsx)(D.a,{children:Object(_.jsx)(le.a,{pill:!0,bg:"secondary",style:{fontSize:"17px",fontWeight:"bold",marginRight:"10px"},children:"2nd"})})}):2===t?Object(_.jsx)(B.a,{children:Object(_.jsx)(D.a,{children:Object(_.jsx)(le.a,{pill:!0,bg:"danger",style:{fontSize:"17px",fontWeight:"bold",marginRight:"10px"},children:"3rd"})})}):null,Object(_.jsxs)(B.a,{children:[Object(_.jsx)("div",{id:"badge"}),Object(_.jsx)(D.a,{md:"auto",children:Object(_.jsx)(I.a,{rounded:!0,src:e.avatar,alt:"Avatar of ".concat(e.name),width:"90",height:"90",style:{marginBottom:"20px",marginLeft:"20px"}})}),Object(_.jsx)(D.a,{}),Object(_.jsx)(D.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:"30px"},children:Object(_.jsxs)(N.a,{style:{backgroundColor:"#b8c3d1",fontSize:"30px",fontWeight:"bold",textAlign:"center"},children:[Object(_.jsx)(N.a.Header,{style:{fontSize:"25px"},children:"Score"}),e.score]})})]}),Object(_.jsxs)(B.a,{children:[Object(_.jsx)(D.a,{children:Object(_.jsx)(N.a.Title,{style:{marginLeft:"20px"},children:e.name})}),Object(_.jsx)(D.a,{md:"auto"}),r?Object(_.jsx)("div",{children:Object(_.jsxs)(N.a,{style:{backgroundColor:"#b8c3d1",marginTop:"10px"},children:[Object(_.jsx)(N.a.Header,{className:"text-center",style:{fontSize:"17px",fontWeight:"bold"},children:"Detailed Score"}),Object(_.jsxs)(N.a.Title,{style:{marginLeft:"5px",marginTop:"5px"},children:["Polls Added: ",e.numberAsked]}),Object(_.jsxs)(N.a.Title,{style:{marginLeft:"5px"},children:["Polls Taken: ",e.numberAnswered]})]})}):null]})]},e.id)}))})]})})}}]),n}(a.Component),je=Object(d.connect)((function(e){var t=e.authedUser,n=e.users;return{authedUser:t,usersList:Object.values(n).map((function(e){return{id:e.id,name:e.name,avatar:e.avatarURL,numberAsked:e.questions.length,numberAnswered:Object.keys(e.answers).length,score:e.questions.length+Object.keys(e.answers).length}})).sort((function(e,t){return t.score-e.score}))}}))(de),ue=(n(83),n(118)),he=n(119),be=n(122),pe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("navig").style.display="none"}},{key:"componentWillUnmount",value:function(){document.getElementById("navig").style.display="flex"}},{key:"render",value:function(){return console.log(this.props),Object(_.jsxs)("div",{style:{backgroundColor:"#f7faf8"},children:[Object(_.jsx)("img",{src:"/error.png",alt:"pageNotFound",style:{width:"70%",height:"85vh",display:"flex",margin:"auto"}}),Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(_.jsx)(W.a,{as:V.b,to:"/home",children:"Go Home"})})]})}}]),n}(a.Component);var xe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={answer:""},e.chooseOption=function(t){e.setState({answer:t.target.value})},e.submitVote=function(t){t.preventDefault();var n=e.props,a=n.dispatch,r=n.authedUser,o=n.question,i=e.state.answer;a(q({authedUser:r,qid:o.id,answer:i}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authedUser,n=e.question;if(e.error)return Object(_.jsx)(pe,{});var a=n.name,r=n.avatar,o=n.optionOne,i=n.optionTwo,s=n.votesOne,c=n.votesTwo,l=n.userVoteOne,d=n.userVoteTwo,j=n.totalVotes,u=(s/j*100).toFixed(1),h=(c/j*100).toFixed(1),p=this.state.answer,x="";l.includes(t)?x="optionOne":d.includes(t)&&(x="optionTwo");return Object(_.jsx)("div",{style:{marginTop:"20px",marginBottom:"20px"},children:Object(_.jsx)(N.a,{style:{width:"40rem"},border:"primary",className:"m-auto",children:Object(_.jsxs)(N.a.Body,{children:[Object(_.jsxs)(B.a,{className:"align-items-center justify-content-md-center",children:[Object(_.jsxs)(D.a,{md:"auto",style:{marginLeft:"20px"},children:[Object(_.jsx)("img",{src:r,alt:"Avatar of ".concat(a),width:"90",height:"90",style:{marginBottom:"20px"}}),Object(_.jsxs)(N.a.Subtitle,{className:"mb-2 text-muted",children:[a," is asking:"]})]}),Object(_.jsxs)(D.a,{style:{marginLeft:"20px"},children:[Object(_.jsx)(N.a.Title,{style:{marginTop:"5px",fontSize:"25px"},className:"mb-2",children:"Would your rather"}),l.includes(t)||d.includes(t)?Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{style:{fontSize:"20px",fontWeight:"bold",border:"2px solid blue",borderRadius:"5px",marginTop:"20px",paddingLeft:"5px",backgroundColor:"optionOne"===x?"#fcdf5b":"white"},children:[o,"optionOne"===x?Object(_.jsx)(le.a,{pill:!0,bg:"danger",style:{marginLeft:"10px"},children:"Your Choice"}):null,Object(_.jsx)(he.a,{striped:!0,style:{height:"20px",margin:"5px"},variant:"primary",now:s,label:"".concat(u,"%"),max:j}),Object(_.jsxs)("span",{style:{display:"flex",justifyContent:"center"},children:[s," out of ",j]})]}),Object(_.jsxs)("div",{style:{fontSize:"20px",fontWeight:"bold",border:"2px solid blue",borderRadius:"5px",marginTop:"15px",paddingLeft:"5px",backgroundColor:"optionTwo"===x?"#fcdf5b":"white"},children:[i,"optionTwo"===x?Object(_.jsx)(le.a,{pill:!0,bg:"danger",style:{marginLeft:"10px"},children:"Your Choice"}):null,Object(_.jsx)(he.a,{striped:!0,style:{height:"20px",margin:"5px"},variant:"primary",now:c,label:"".concat(h,"%"),max:j}),Object(_.jsxs)("span",{style:{display:"flex",justifyContent:"center"},children:[c," out of ",j]})]})]}):Object(_.jsx)("div",{children:Object(_.jsxs)(oe.a,{onSubmit:this.submitVote,style:{marginTop:"40px",marginLeft:"50px"},children:[Object(_.jsx)(oe.a.Check,{onChange:this.chooseOption,type:"radio",label:o,value:"optionOne",name:"vote",style:{marginTop:"40px",fontSize:"20px"}}),Object(_.jsx)("div",{style:{fontSize:"19px",marginTop:"20px"},children:"Or"}),Object(_.jsx)(oe.a.Check,{onChange:this.chooseOption,type:"radio",label:i,value:"optionTwo",name:"vote",style:{marginTop:"20px",fontSize:"20px"}}),Object(_.jsx)(W.a,{type:"submit",variant:"danger",style:{marginTop:"60px"},disabled:""===p,onClick:this.showResult,children:"Vote"})]})})]})]}),Object(_.jsx)(be.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e){return Object(_.jsx)(ue.a,Object(b.a)(Object(b.a)({id:"button-tooltip"},e),{},{children:"Go Back"}))},children:Object(_.jsx)(W.a,{as:V.b,to:"/home",children:"\u276e"})})]})})})}}]),n}(a.Component),Oe=Object(d.connect)((function(e,t){var n=e.authedUser,a=e.questions,r=e.users,o=a[t.match.params.question_id],i=void 0===o;return i?{error:i}:{authedUser:n,question:K(o,r[o.author])}}))(xe),me=n(88),ge=function(){return Object(_.jsxs)(me.a,{speed:2,width:1360,height:500,viewBox:"0 0 1360 500",backgroundColor:"#bfbfbf",foregroundColor:"#a6a2a2",children:[Object(_.jsx)("rect",{x:"2",y:"1",rx:"3",ry:"3",width:"1360",height:"70"}),Object(_.jsx)("rect",{x:"574",y:"450",rx:"3",ry:"3",width:"223",height:"50"}),Object(_.jsx)("rect",{x:"500",y:"100",rx:"0",ry:"0",width:"400",height:"300"})]})};var fe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.dispatch(C()),e.setState({isLoading:!1})}),5e3)}},{key:"render",value:function(){var e=this.props,t=e.authedUser;e.loading;return Object(_.jsx)("div",{children:!0===this.state.isLoading?Object(_.jsx)(ge,{}):Object(_.jsx)("div",{children:t?Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)(re,{}),Object(_.jsxs)(j.d,{children:[Object(_.jsx)(j.b,{path:"/home",component:ne}),Object(_.jsx)(j.b,{path:"/add",component:se}),Object(_.jsx)(j.b,{path:"/leaderboard",component:je}),Object(_.jsx)(j.b,{path:"/questions/:question_id",component:Oe}),Object(_.jsx)(j.b,{component:pe})]})]}):Object(_.jsx)(J,{})})})}}]),n}(a.Component),ye=Object(d.connect)((function(e){return{authedUser:e.authedUser,loading:null===e.users}}))(fe),ve=n(41);var we=Object(ve.b)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return t.id;case L:return null;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(b.a)(Object(b.a)({},e),t.users);case v:return Object(b.a)(Object(b.a)({},e),{},Object(h.a)({},t.question.author,Object(b.a)(Object(b.a)({},e[t.question.author]),{},{questions:e[t.question.author].questions.concat([t.question.id])})));case w:return Object(b.a)(Object(b.a)({},e),{},Object(h.a)({},t.authedUser,Object(b.a)(Object(b.a)({},e[t.authedUser]),{},{answers:Object(b.a)(Object(b.a)({},e[t.authedUser].answers),{},Object(h.a)({},t.qid,t.answer))})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(b.a)(Object(b.a)({},e),t.questions);case v:return Object(b.a)(Object(b.a)({},e),{},Object(h.a)({},t.question.id,t.question));case w:return Object(b.a)(Object(b.a)({},e),{},Object(h.a)({},t.qid,Object(b.a)(Object(b.a)({},e[t.qid]),{},Object(h.a)({},t.answer,Object(b.a)(Object(b.a)({},e[t.qid][t.answer]),{},{votes:e[t.qid][t.answer].votes.concat([t.authedUser])})))));default:return e}},loadingBar:S.loadingBarReducer}),Te=n(89),ke=function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n);var a=t(n);return console.log("The new state: ",e.getState()),console.groupEnd(),a}}},qe=Object(ve.a)(Te.a,ke),Se=Object(ve.c)(we,qe);o.a.render(Object(_.jsx)(V.a,{children:Object(_.jsx)(d.Provider,{store:Se,children:Object(_.jsx)(ye,{})})}),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.12ef46b8.chunk.js.map